<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="bob">
	
	<!-- 공지사황 -->
	<resultMap type="com.bob.proj.model.dto.NoticeDto" id="dtoMap">
		<result property="n_no" column="N_NO"/>
		<result property="user_id" column="USER_ID"/>
		<result property="n_title" column="N_TITLE"/>
		<result property="n_content" column="N_CONTENT"/>
		<result property="n_date" column="N_DATE"/>
		<result property="n_view" column="N_VIEW"/>
	</resultMap>
	
	<select id="selectList" resultMap="dtoMap">
		SELECT  N_NO, USER_ID, N_TITLE, N_CONTENT, N_DATE, N_VIEW
		FROM NOTICE ORDER BY N_NO DESC
	</select>
	
	<insert id="insert" parameterType="NoticeDto">		
		INSERT INTO NOTICE
		VALUES(NOTICE_SEQ.NEXTVAL,#{user_id},#{n_title},#{n_content},SYSDATE,1)
	</insert>
	
	<update id="update" parameterType="NoticeDto">
		UPDATE NOTICE
		SET USER_ID=#{user_id}, N_TITLE=#{n_title}, N_CONTENT=#{n_content} , N_DATE=SYSDATE
	    WHERE N_NO=#{n_no}
	</update>
	
	<delete id="delete" parameterType="NoticeDto">
		DELETE FROM NOTICE WHERE N_NO=#{n_no}
	</delete>
	
	<select id="selectone" parameterType="NoticeDto" resultMap="dtoMap">
		SELECT * FROM NOTICE WHERE N_NO=#{n_no}
	</select>
	
</mapper>
